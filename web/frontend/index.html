<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="module">
      if (!import.meta.env || !import.meta.env.PROD) {
        const script = document.createElement('script');
        script.setAttribute('type', "module");
        script.setAttribute('src', "./dev_embed.js");
        document.getElementsByTagName('head')[0].append(script);
      }
    </script>
     <style>
      .genie-loader {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(255, 255, 255, 0.8);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
      }
    </style>
  </head>
  <body>
    
    <div id="app"><!--index.jsx injects App.jsx here-->
      <div id="genie-loader" class="genie-loader">
        Loading...
      </div>
    </div>
    <script>
      global = globalThis; 
    </script>
    <script type="module" src="/index.jsx"></script>
    <script>
       const appContainer = document.getElementById("app");
       const loader = document.getElementById("genie-loader");
       
       if(document.readyState == "loading") {
         console.log("second")
         loader.style.display= "flex";
         console.log("second2")
      } 
      document.addEventListener("DOMContentLoaded", function () {
          console.log("called....")
          loader.style.display = "none";
          appContainer.style.display = "block";
       });
      
      </script>
  </body>
</html>
